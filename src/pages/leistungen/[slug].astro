---

export const prerender = true; 

import type { InferGetStaticParamsType } from "astro";
import { PortableText } from "astro-portabletext";
import Layout from "../../layouts/Layout.astro";
import { formatDate } from "../../utils";
import { urlFor } from "../../utils/image";
import { getCategory, getCategories } from "../../utils/sanity";

export async function getStaticPaths() {
  const categories = await getCategories();
  return categories.map((category) => ({
    params: { slug: category.slug.current },
  }));
}

type Params = InferGetStaticParamsType<typeof getStaticPaths>;
const { slug } = Astro.params as Params;

const category = await getCategory(slug);
---

<Layout title={category.title!}>
  <div class="wrapper">
    <main class="app">
      
      <div class="hero mt-[200px]">
          <div class="hero_wrapper" transition:name="fade">
              
              <div class="hero_title">
                  <h1>{category.title}</h1>
              </div>
             
          </div>
      </div>

      {(category.categoryBody &&
        <div class="post-content">
          <PortableText value={category.categoryBody} />
        </div> || "Hello World"
      )}

  </main>
</div>

</Layout>

<style>
  h1 {
    font-size: 8vw;
    line-height: 1;
  }

  h2 {
    font-size: 40px;
  }
  
  span {
    font-size: 24px;
  }

  p {
    font-size: 22px;
    color: black;
  }
</style>
