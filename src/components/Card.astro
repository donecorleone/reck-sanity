---
import { formatDate } from "../utils";
import { urlFor } from "../utils/image";
import type { Post } from "../utils/sanity";

interface Props {
  post: Post;
}

const { post } = Astro.props;
---
<a
class="card__link"
href={`/post/${post.slug.current}`}
>
<div class="card">
  {
    post.mainImage ? (
      <img
        class="card__cover"
        src={urlFor(post.mainImage).width(500).height(300).url()}
        alt="Cover image"
      />
    ) : (
      <div class="card__cover--none" />
    )
  }

  <div class="card__container">
    <h3 class="card__title">
      
        {post.title}
      
    </h3>
    <p class="card__excerpt">{post.excerpt}</p>
    <p class="card__date">
      {formatDate(post._createdAt)}
    </p>
  </div>
</div>
</a>

<style>
  .card {
  display: flex;
  flex-direction: column;
  padding: 1.5rem;
  border: 1px solid #e0e3e8;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
  transition: transform 0.3s, box-shadow 0.3s;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

.card__cover {
  width: 100%;
  height: 200px;
  border-radius: 6px;
  object-fit: cover;
  margin-bottom: 1rem;
}

.card__container {
  display: flex;
  flex-direction: column;
}

.card__title {
  font-size: 1.5rem;
  color: #333;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.card__link {
  color: inherit;
  text-decoration: none;
}

.card__link:hover {
  color: #007bff;
}

.card__excerpt {
  font-size: 1rem;
  color: #555;
  margin-bottom: 1rem;
}

.card__date {
  font-size: 0.875rem;
  color: #888;
  font-weight: 600;
}

</style>
